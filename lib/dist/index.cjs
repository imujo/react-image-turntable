"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } }"use client"
var _react = require('react');var _jsxruntime = require('react/jsx-runtime');var R="__react-image-turntable-img",$= exports.CLASS_NAME_IMG_PRIMARY =`${R}--primary`,N= exports.CLASS_NAME_IMG_SECONDARY =`${R}--secondary`,U=s=>{s.preventDefault()},k= exports.ReactImageTurntable =_react.forwardRef.call(void 0, ({activeImageIndex:s,images:i,style:m,tabIndex:l=0,setActiveImageIndex:v,...E},f)=>{let t={position:"relative",touchAction:"pan-y",userSelect:"none",...m};return _jsxruntime.jsx.call(void 0, "div",{"aria-label":"Image turntable",...E,ref:f,role:"slider","aria-valuemin":1,"aria-valuemax":i.length,"aria-valuenow":s+1,"aria-valuetext":`${s+1} of ${i.length}`,style:t,tabIndex:l,children:i.map((u,o)=>_jsxruntime.jsx.call(void 0, "img",{className:`${R} ${o===0?$:N}`,src:u,alt:`Turntable ${o+1} of ${i.length+1}`,draggable:!1,onDragStart:U,style:{position:o===0?void 0:"absolute",opacity:o===s?1:0,pointerEvents:o===s?void 0:"none",left:0,top:0,right:0,bottom:0,width:"100%",maxWidth:"100%",height:"100%",objectFit:"cover"}},u))})});k.displayName="ReactImageTurntable";var G={},F= exports.useReactImageTurntable =({initialImageIndex:s=0,autoRotate:i=G,images:m,movementSensitivity:l=20,onIndexChange:v,setActiveImageIndex:E,activeImageIndex:f})=>{let t=m.length-1,{interval:u=200,enabled:o=!1}=i,[A,P]=_react.useState.call(void 0, s),c=_react.useRef.call(void 0, null),y=_react.useRef.call(void 0, null),a=_react.useCallback.call(void 0, _nullishCoalesce(E, () => (P)),[]),p=_react.useMemo.call(void 0, ()=>_nullishCoalesce(f, () => (A)),[A,f]),_=_react.useCallback.call(void 0, n=>{let r=n>t?0:n<0?t:n;a(r)},[t,a]);return _react.useEffect.call(void 0, ()=>{p>t&&a(0)},[p,t,a]),_react.useEffect.call(void 0, ()=>{v&&v(p)},[p,v]),_react.useEffect.call(void 0, ()=>{let n=()=>{c.current&&(clearInterval(c.current),c.current=null)};return o&&!c.current&&(c.current=setInterval(()=>{a(r=>{let d=r+1;return d>t?0:d})},u)),o||n(),()=>n()},[u,o,t,a]),_react.useEffect.call(void 0, ()=>{let n=y.current,r=0,d=()=>{a(e=>e+1>t?0:e+1)},x=()=>{a(e=>e-1<0?t:e-1)},L=e=>{e.key==="ArrowLeft"?x():e.key==="ArrowRight"&&d()},b=e=>{let I=r-e.clientX;I<=-l&&(r=r+l,d()),I>=l&&(r=r-l,x())},w=()=>{window.removeEventListener("pointermove",b),window.removeEventListener("pointerup",w)},M=e=>{e.button!==2&&(r=e.clientX,window.addEventListener("pointermove",b,{passive:!0}),window.addEventListener("pointerup",w,{passive:!0}))};return n.addEventListener("keydown",L,{capture:!0}),n.addEventListener("pointerdown",M,{capture:!0}),()=>{n.removeEventListener("keydown",L,{capture:!0}),n.removeEventListener("pointerdown",M,{capture:!0}),window.removeEventListener("pointerup",w),window.removeEventListener("pointermove",b)}},[t,l,a]),{activeImageIndex:p,setActiveImageIndex:_,images:m,ref:y}};exports.CLASS_NAME_IMG = R; exports.CLASS_NAME_IMG_PRIMARY = $; exports.CLASS_NAME_IMG_SECONDARY = N; exports.ReactImageTurntable = k; exports.useReactImageTurntable = F;
//# sourceMappingURL=index.cjs.map